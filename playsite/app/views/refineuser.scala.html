@(user : controllers.Application.UserData, refineForm : play.api.data.Form[controllers.SupplementaryData])

@import controllers.Application.UserData

@main("Welcome: @user.name") {
    <h1>Welcome: @user.name</h1>
    

    <p>To help make this site more useful, please enter a few extra details to continue.</p>
    
    @helper.form(action=routes.Application.refineUserAccept) {
        @helper.inputText(refineForm("WorkLocation"), '_label -> "Address of your workplace (a city name is specific enough):")
        @helper.inputText(refineForm("InstitutionName"), '_label -> "Name of your employer/institution:")
        @helper.inputText(refineForm("InstitutionURL"), '_label -> "Url of your employer/institution:")
        @helper.inputText(refineForm("SOTags"), '_label -> "Stack overflow tags relevant to your work, e.g. C++, Django etc:")
        @helper.inputText(refineForm("SectorTags"), '_label -> "Industry sector tags, e.g. Telecoms, Retail etc:")
        
        <input type="submit" value="submit"/>
    }
    
<script type="text/javascript">
    $(document).ready(function()
    {
        $("#WorkLocation").tokenInput("/locationBySuffix", { theme: "facebook", allowNewItems:true, tokenLimit:1, minChars:2 } );
    } );
    
    $(document).ready(function()
    {
        $("#InstitutionName").tokenInput("/institutionBySuffix", { theme: "facebook", allowNewItems:true, tokenLimit:1, minChars:2 } );
    } );
    
    $(document).ready(function()
    {
        $("#SOTags").tokenInput("/tagBySuffix", { theme: "facebook", minChars:2 } );
    } );
    
    $(document).ready(function()
    {
        $("#SectorTags").tokenInput("/workSectorBySuffix", { theme: "facebook", allowNewItems:true, minChars:2 } );
    } );
</script>
}
